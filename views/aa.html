<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>my_setting</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="../css/font-awesome.min.css">
		<link rel="stylesheet" href="../css/mui.min.css">
		<link rel="stylesheet" href="../css/common.css">
		<link rel="stylesheet" href="../css/mobileReset.css">
		<link rel="stylesheet" href="../css/pages/shopCart.css" />
		<style>
			.mui-numbox {
			    position: relative;
			    display: inline-block;
			    overflow: hidden;
			    width: 1.8rem;
			    height: .45rem;
			    padding: 0 !important;
			    vertical-align: top;
			    vertical-align: middle;
			    border: none!important;
			    border-radius: 3px;
			    background-color: #F4F4F4;
			}
			.mui-checkbox input[type=checkbox]:checked:before, .mui-radio input[type=radio]:checked:before {
				background: linear-gradient(to right, #FF342D, #FF5882);
				-webkit-background-clip: text;
				color: transparent;
			}
		</style>
		<script src="../js/rem_reset.js"></script>
	</head>
	<body onselectstart="return false;">
		<div class="content">
			<!-- 商品块 -->
			<div class="" id="shopList">
				<!-- <div class="shopCart_moudel div_display">
					<div class="shopCart_moudel_left">
						<div class="mui-checkbox">
							<input name="commodity" value="Item 1" type="checkbox" style="margin-top: 1rem;padding-left: .2rem;">
						</div>
					</div>
					<div class="shopCart_moudel_right">
						<div class="div_display">
							<div class="shopCart_img">
								<img src="../image/mu.jpg" class="shopCart_img_width">
							</div>
							<div class="shopCart_product">
								<div class="shopCart_product_title">
									原麦山丘－芋之心
								</div>
								<div class="shopCart_product_g">
									规格: 450g/袋
								</div>
								<div class="div_display">
									<div class="shopCart_price">
										¥234.3
									</div>
									<div class="shopCart_number">
										<div class="mui-numbox num-btn" data-numbox-step='1' data-numbox-min='0' data-numbox-max='99'>
											<button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
											<input class="mui-numbox-input" type="number" />
											<button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>
 -->

			</div>

			<!-- 失效商品 -->
			<div class="" style="margin-bottom: 1.5rem;">
				<div class="div_display" style="margin-top: .43rem;margin-left: .3rem;">
					<div class="shopCart_Invalid">
						失效
					</div>
					<div class="shopCart_Invalid_font">
						失效商品
					</div>
				</div>
				<div class="shopCart_moudel div_display" style="margin-top: .2rem;">
					<div class="shopCart_moudel_left">
						<div class="shopCart_Invalid" style="margin-top: 1rem;margin-left: .05rem;">
							失效
						</div>
					</div>
					<div class="shopCart_moudel_right">
						<div class="div_display">
							<div class="shopCart_img">
								<img src="../image/mu.jpg" class="shopCart_img_width">
							</div>
							<div class="shopCart_product">
								<div class="shopCart_product_title">
									原麦山丘－芋之心
								</div>
								<div class="shopCart_product_g">
									规格: 450g/袋
								</div>
								<div class="div_display">
									<div class="shopCart_price">
										¥234.3
									</div>
									<div class="shopCart_number">
										<div class="mui-numbox num-btn" data-numbox-step='1' data-numbox-min='0' data-numbox-max='99'>
											<!-- "-"按钮，点击可减小当前数值 -->
											<button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
											<input class="mui-numbox-input" type="number" />
											<!-- "+"按钮，点击可增大当前数值 -->
											<button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>

			</div>

			<!-- 底部操作栏结算 -->
			<div class="div_display bootom_title">
				<div class="bootom_left">
					<div class="mui-input-row mui-checkbox mui-left">
						<label>全选</label>
						<input id="checkboxAll" value="Item 2" type="checkbox">
					</div>
				</div>
				<div class="bootom_price">
					合计：<span class="bootom_price_font"> ¥2342.324</span>
					<div style="color: #999999;font-size: .18rem;margin-left: 1rem;">
						（含运费）
					</div>
				</div>
				<div class="bootom_right">
					<div class="bootom_right_width">去结算(3)</div>
				</div>
			</div>

			<!-- 编辑 -->
			<div class="div_display bootom_title" style="display: none;">
				<div class="bootom_left">
					<div class="mui-input-row mui-checkbox mui-left">
						<label>全选</label>
						<input name="checkbox2" value="Item 2" type="checkbox">
					</div>
				</div>

				<div class="bootom_editor bootom_editor_border">
					取消操作
				</div>
				<div class="bootom_editor bootom_editor_border1">
					确认删除
				</div>

			</div>

		</div>
	</body>
	<script src="../js/jquery-1.11.2.min.js"></script>
	<script src="../js/mui.min.js"></script>
	<script src="../js/commonFun.js"></script>
	<script src="../js/requestFun.js"></script>
	<script>
		(function($, doc, $$) {
			$$.init();
			var _self;
			if (window.plus) {
				plusReady();
			} else {
				doc.addEventListener('plusready', plusReady, false);
			}


			function plusReady() {
				plus.navigator.setFullscreen(false);
				//强制竖屏
				plus.screen.lockOrientation("portrait-primary");
				//强制隐藏滚动条
				plus.webview.currentWebview().setStyle({
					scrollIndicator: 'none'
				});
				_self = plus.webview.currentWebview();
				// 购物车数据
				var keywordData = [{
					price: '20',
					number: '2',
					name: '原麦山丘－芋之心'
				}, {
					price: '5',
					number: '2',
					name: '麦之心'
				}, {
					price: '10',
					number: '20',
					name: '原芋之心'
				}]
				var fragmentplanList = document.createDocumentFragment();
				$.each(keywordData, function(index) {
					var orderLi =
						'<div class="shopCart_moudel div_display">' +
						'<div class="shopCart_moudel_left">' +
						'<div class="mui-checkbox">' +
						'<input name="commodity" id="commodity" value=' + keywordData[index] +
						' type="checkbox" class="res" data-price=' + keywordData[index].price + ' data-index=' + [index] +
						' style="margin-top: 1rem;padding-left: .2rem;">' +
						'</div>' +
						'</div>' +
						'<div class="shopCart_moudel_right">' +
						'<div class="div_display">' +
						'<div class="shopCart_img">' +
						'<img src="../image/mu.jpg" class="shopCart_img_width">' +
						'</div>' +
						'<div class="shopCart_product">' +
						'<div class="shopCart_product_title">' +
						keywordData[index].name +
						'</div>' +
						'<div class="shopCart_product_g">' +
						'规格: 450g/袋' +
						'</div>' +
						'<div class="div_display">' +
						'<div class="shopCart_price">' +
						'¥234.3' +
						'</div>' +
						'<div class="shopCart_number" >' +
						'<div class="mui-numbox num-btn" data-numbox-step="1" data-numbox-min="1" data-numbox-max="99" id="box ' +
						index + '" >' +
						<!-- "-"按钮，点击可减小当前数值 --> 																			
						'<button class="mui-btn mui-numbox-btn-minus" type="button">-</button>' +
						'<input class="mui-numbox-input" type="number"  />' +
						<!-- "+"按钮，点击可增大当前数值 -->
						'<button class="mui-btn mui-numbox-btn-plus" type="button">+</button>' +
						'</div>' +
						'</div>' +
						'</div>' +
						'</div>' +
						'</div>' +
						'</div>' +
						'</div>';
					$(fragmentplanList).append(orderLi);
				});
				$("#shopList").append($(fragmentplanList));
				// 获取复选框的value 值
				function getRadioRes(className) {
					var rdsObj = document.getElementsByClassName(className); /*获取值*/
					/*alert(rdsObj.length);测试一下找到几个节点*/
					var checkVal = new Array();
					var k = 0;
					for (i = 0; i < rdsObj.length; i++) {
						if (rdsObj[i].checked) {
							checkVal[k] = rdsObj[i].value;
							k++;
						}
					}
					return checkVal;
				}
				// 全选
				$("#checkboxAll").click(function() {
					$('input[name="commodity"]').prop("checked", this.checked);
					// var res = getRadioRes('res');
					// res.forEach(e => {
					// 	alert(keywordData[e])
					// });

					// $("#numberInput input").each(function () {
					// 	 var dd = $$('#numberInput').numbox().getValue();
					// 	 alert(dd)
					// })
					// $("#numberInput input").each(function () {
					// 	var sum = 0
					// 	var dd = mui('.mui-numbox').numbox().getValue();
					// 	sum = sum +',' + dd;
					// 	sum = sum.substr(1);
					// 	alert(''+sum, '当前值: ', "确定");
					// })
				});
				// 单选input[name='commodity']
				$("#commodity").click(function() {
					alert(99)
					// var res = getRadioRes('res');
					// res.forEach(e => {
					// 	alert(e)
					// });
					alert($(this).attr("data-price"));
					$("#checkboxAll").prop("checked", $checkbox.length == $("input[name='commodity']:checked").length ? true :
						false);
				});
			}
		})(jQuery, document, mui);
	</script>

</html>
